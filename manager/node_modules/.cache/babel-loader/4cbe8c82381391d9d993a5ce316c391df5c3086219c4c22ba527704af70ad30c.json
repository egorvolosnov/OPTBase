{"ast":null,"code":"var _jsxFileName = \"D:\\\\voenmeh\\\\6sem\\\\bd\\\\5\\\\manager\\\\src\\\\pages\\\\Orders\\\\OrdersPage.jsx\",\n  _s = $RefreshSig$();\nimport { useState, useEffect } from 'react';\nimport { Link } from 'react-router-dom';\nimport Header from '../../components/Header/Header';\nimport Footer from '../../components/Footer/Footer';\nimport './OrdersPage.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst OrdersPage = () => {\n  _s();\n  const [orders, setOrders] = useState([]);\n  const [filteredOrders, setFilteredOrders] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(null);\n  const [selectedOrder, setSelectedOrder] = useState(null);\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\n  const [orderDetails, setOrderDetails] = useState({\n    products: [],\n    delivery: {},\n    warehouse: {}\n  });\n  const [formData, setFormData] = useState({\n    products: [],\n    deliveryService: '',\n    warehouseId: ''\n  });\n  const [searchTerm, setSearchTerm] = useState('');\n  const [showTodayOrders, setShowTodayOrders] = useState(false);\n  const [allProducts, setAllProducts] = useState([]);\n\n  // Загрузка данных\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const [ordersRes, productsRes] = await Promise.all([fetch('http://localhost:5000/api/orders'), fetch('http://localhost:5000/api/products')]);\n        if (!ordersRes.ok || !productsRes.ok) {\n          throw new Error('Network response was not ok');\n        }\n        const [ordersData, productsData] = await Promise.all([ordersRes.json(), productsRes.json()]);\n        setOrders(ordersData);\n        setFilteredOrders(ordersData);\n        setAllProducts(productsData);\n      } catch (err) {\n        setError(err.message);\n      } finally {\n        setLoading(false);\n      }\n    };\n    fetchData();\n  }, []);\n\n  // Фильтрация заказов\n  useEffect(() => {\n    let result = [...orders];\n    if (searchTerm) {\n      const term = searchTerm.toLowerCase();\n      result = result.filter(order => order.id.toString().includes(term) || order.customer.toLowerCase().includes(term) || order.date.includes(term) || order.status.toLowerCase().includes(term));\n    }\n    if (showTodayOrders) {\n      const today = new Date().toISOString().split('T')[0];\n      result = result.filter(order => order.date === today);\n    }\n    setFilteredOrders(result);\n  }, [searchTerm, showTodayOrders, orders]);\n\n  // Загрузка деталей заказа\n  const fetchOrderDetails = async orderId => {\n    try {\n      const [orderRes, productsRes, deliveryRes] = await Promise.all([fetch(`http://localhost:5000/api/orders/${orderId}`), fetch(`http://localhost:5000/api/orders/${orderId}/products`), fetch(`http://localhost:5000/api/orders/${orderId}/delivery`)]);\n      if (!orderRes.ok || !productsRes.ok || !deliveryRes.ok) {\n        throw new Error('Failed to fetch order details');\n      }\n      const [order, products, delivery] = await Promise.all([orderRes.json(), productsRes.json(), deliveryRes.json()]);\n      setOrderDetails({\n        ...order,\n        products,\n        delivery\n      });\n      setFormData({\n        products: products.map(p => ({\n          productId: p.productId,\n          name: p.name,\n          quantity: p.quantity,\n          price: p.price,\n          unit: p.unit\n        }))\n      });\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Добавление товара\n  const handleAddProduct = () => {\n    if (allProducts.length > 0) {\n      setFormData(prev => ({\n        ...prev,\n        products: [...prev.products, {\n          productId: allProducts[0].id,\n          name: allProducts[0].name,\n          quantity: 1,\n          price: allProducts[0].price,\n          unit: allProducts[0].unit\n        }]\n      }));\n    }\n  };\n\n  // Удаление товара\n  const handleRemoveProduct = index => {\n    setFormData(prev => ({\n      ...prev,\n      products: prev.products.filter((_, i) => i !== index)\n    }));\n  };\n\n  // Удаление заказа\n  const handleDeleteOrder = async () => {\n    try {\n      const response = await fetch(`http://localhost:5000/api/orders/${selectedOrder.id}`, {\n        method: 'DELETE'\n      });\n      if (!response.ok) throw new Error('Failed to delete order');\n\n      // Обновляем список заказов\n      const ordersResponse = await fetch('http://localhost:5000/api/orders');\n      const ordersData = await ordersResponse.json();\n      setOrders(ordersData);\n      setFilteredOrders(ordersData);\n      setIsDeleteModalOpen(false);\n      setIsViewModalOpen(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Обработчики модальных окон\n  const handleViewClick = async order => {\n    setSelectedOrder(order);\n    await fetchOrderDetails(order.id);\n    setIsViewModalOpen(true);\n  };\n  const handleEditClick = async order => {\n    setSelectedOrder(order);\n    await fetchOrderDetails(order.id);\n    setIsEditModalOpen(true);\n  };\n  const handleDeleteClick = order => {\n    setSelectedOrder(order);\n    setIsDeleteModalOpen(true);\n  };\n  const handleCloseModal = () => {\n    setIsViewModalOpen(false);\n    setIsEditModalOpen(false);\n    setIsDeleteModalOpen(false);\n  };\n\n  // Обработчики изменений формы\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.target;\n    setFormData(prev => ({\n      ...prev,\n      [name]: value\n    }));\n  };\n  const handleProductChange = (index, field, value) => {\n    const updatedProducts = [...formData.products];\n    if (field === 'productId') {\n      const selectedProduct = allProducts.find(p => p.id == value);\n      if (selectedProduct) {\n        updatedProducts[index].productId = value;\n        updatedProducts[index].name = selectedProduct.name;\n        updatedProducts[index].price = selectedProduct.price;\n        updatedProducts[index].unit = selectedProduct.unit;\n      }\n    } else {\n      updatedProducts[index][field] = field === 'quantity' || field === 'price' ? parseInt(value) || 0 : value;\n    }\n    setFormData(prev => ({\n      ...prev,\n      products: updatedProducts\n    }));\n  };\n\n  // Отправка изменений\n  const handleSubmit = async e => {\n    e.preventDefault();\n    try {\n      const response = await fetch(`http://localhost:5000/api/orders/${selectedOrder.id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          products: formData.products.map(p => ({\n            Id_product: p.productId,\n            quantity: p.quantity,\n            price: p.price\n          })),\n          deliveryService: formData.deliveryService\n        })\n      });\n      if (!response.ok) throw new Error('Failed to update order');\n\n      // Обновляем данные\n      const ordersResponse = await fetch('http://localhost:5000/api/orders');\n      const ordersData = await ordersResponse.json();\n      setOrders(ordersData);\n      await fetchOrderDetails(selectedOrder.id);\n      setIsEditModalOpen(false);\n    } catch (err) {\n      setError(err.message);\n    }\n  };\n\n  // Обработчики UI\n  const handleSearch = e => setSearchTerm(e.target.value);\n  const toggleTodayOrders = () => setShowTodayOrders(!showTodayOrders);\n  if (loading) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"loading\",\n    children: \"\\u0417\\u0430\\u0433\\u0440\\u0443\\u0437\\u043A\\u0430 \\u0434\\u0430\\u043D\\u043D\\u044B\\u0445...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 257,\n    columnNumber: 23\n  }, this);\n  if (error) return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"error\",\n    children: [\"\\u041E\\u0448\\u0438\\u0431\\u043A\\u0430: \", error]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 258,\n    columnNumber: 21\n  }, this);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"home-page\",\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 262,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"hero\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        children: \"\\u0423\\u043F\\u0440\\u0430\\u0432\\u043B\\u0435\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\\u043C\\u0438\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 265,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440, \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0438 \\u0440\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432 \\u043F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\\u0435\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 264,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"dashboard\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"dashboard-grid\",\n        children: [/*#__PURE__*/_jsxDEV(Link, {\n          to: \"/new\",\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\u2795 \\u0421\\u043E\\u0437\\u0434\\u0430\\u0442\\u044C \\u043D\\u043E\\u0432\\u044B\\u0439 \\u0437\\u0430\\u043A\\u0430\\u0437\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 272,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u0420\\u0443\\u0447\\u043D\\u043E\\u0435 \\u0441\\u043E\\u0437\\u0434\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 273,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 271,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: `dashboard-card ${showTodayOrders ? 'active' : ''}`,\n          onClick: toggleTodayOrders,\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDCC5 \\u0417\\u0430\\u043A\\u0430\\u0437\\u044B \\u043D\\u0430 \\u0441\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 279,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: [showTodayOrders ? 'Скрыть' : 'Показать', \" \\u0441\\u0435\\u0433\\u043E\\u0434\\u043D\\u044F\\u0448\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u044B\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 280,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 275,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"dashboard-card\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            children: \"\\uD83D\\uDD0D \\u041F\\u043E\\u0438\\u0441\\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"\\u041F\\u043E\\u0438\\u0441\\u043A \\u043F\\u043E \\u043D\\u043E\\u043C\\u0435\\u0440\\u0443, \\u043A\\u043B\\u0438\\u0435\\u043D\\u0442\\u0443...\",\n            value: searchTerm,\n            onChange: handleSearch,\n            className: \"search-input\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 270,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 269,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"section\", {\n      className: \"description\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-header\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u0421\\u043F\\u0438\\u0441\\u043E\\u043A \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 297,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"orders-count\",\n          children: [\"\\u041D\\u0430\\u0439\\u0434\\u0435\\u043D\\u043E: \", filteredOrders.length, \" \\u0437\\u0430\\u043A\\u0430\\u0437\\u043E\\u0432\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 298,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"orders-table\",\n        children: /*#__PURE__*/_jsxDEV(\"table\", {\n          children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n            children: /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u2116 \\u0417\\u0430\\u043A\\u0430\\u0437\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 306,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\\u044C\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 307,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 308,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0421\\u0443\\u043C\\u043C\\u0430\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 309,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 310,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 311,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 305,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 304,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: filteredOrders.length > 0 ? filteredOrders.map(order => /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.id\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 318,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: order.customer\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 319,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: new Date(order.date).toLocaleDateString('ru-RU')\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 320,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [order.amount.toLocaleString(), \" \\u20BD\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 321,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: /*#__PURE__*/_jsxDEV(\"span\", {\n                  className: `status-badge status-${order.status.toLowerCase().replace(' ', '-')}`,\n                  children: order.status\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 323,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 322,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                children: [/*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleViewClick(order),\n                  className: \"action-link\",\n                  children: \"\\u041F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 328,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleEditClick(order),\n                  className: \"action-link\",\n                  children: \"\\u0418\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 334,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                  onClick: () => handleDeleteClick(order),\n                  className: \"action-link delete\",\n                  children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 340,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 327,\n                columnNumber: 21\n              }, this)]\n            }, order.id, true, {\n              fileName: _jsxFileName,\n              lineNumber: 317,\n              columnNumber: 19\n            }, this)) : /*#__PURE__*/_jsxDEV(\"tr\", {\n              children: /*#__PURE__*/_jsxDEV(\"td\", {\n                colSpan: \"6\",\n                className: \"no-orders\",\n                children: \"\\u0417\\u0430\\u043A\\u0430\\u0437\\u044B \\u043D\\u0435 \\u043D\\u0430\\u0439\\u0434\\u0435\\u043D\\u044B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 351,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 350,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 314,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 303,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 295,\n      columnNumber: 7\n    }, this), isViewModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430 #\", selectedOrder.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 365,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u041E\\u0441\\u043D\\u043E\\u0432\\u043D\\u0430\\u044F \\u0438\\u043D\\u0444\\u043E\\u0440\\u043C\\u0430\\u0446\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 368,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u041F\\u043E\\u0442\\u0440\\u0435\\u0431\\u0438\\u0442\\u0435\\u043B\\u044C:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 369,\n                columnNumber: 20\n              }, this), \" \", selectedOrder.customer]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 369,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 370,\n                columnNumber: 20\n              }, this), \" \", new Date(selectedOrder.date).toLocaleDateString('ru-RU')]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 370,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u0443\\u043C\\u043C\\u0430:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 371,\n                columnNumber: 20\n              }, this), \" \", selectedOrder.amount.toLocaleString(), \" \\u20BD\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 371,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0421\\u0442\\u0430\\u0442\\u0443\\u0441:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 372,\n                columnNumber: 20\n              }, this), \" \", selectedOrder.status]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 372,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 367,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 376,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"products-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 380,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 381,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0426\\u0435\\u043D\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 382,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0421\\u0443\\u043C\\u043C\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 383,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 379,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 378,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: orderDetails.products.map((product, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: product.name\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 389,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [product.quantity, \" \", product.unit]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 390,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [product.price, \" \\u20BD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 391,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: [product.price * product.quantity, \" \\u20BD\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 392,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 388,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 386,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 377,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 375,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"order-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              children: \"\\u0414\\u043E\\u0441\\u0442\\u0430\\u0432\\u043A\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 400,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430 \\u043E\\u0442\\u0433\\u0440\\u0443\\u0437\\u043A\\u0438:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 401,\n                columnNumber: 20\n              }, this), \" \", orderDetails.delivery.dateFrom ? new Date(orderDetails.delivery.dateFrom).toLocaleDateString('ru-RU') : 'Не указана']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 401,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"\\u0414\\u0430\\u0442\\u0430 \\u043F\\u0440\\u0438\\u0431\\u044B\\u0442\\u0438\\u044F:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 402,\n                columnNumber: 20\n              }, this), \" \", orderDetails.delivery.dateTo ? new Date(orderDetails.delivery.dateTo).toLocaleDateString('ru-RU') : 'Не указана']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 402,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 399,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleDeleteClick(selectedOrder),\n              className: \"btn-delete\",\n              children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 406,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseModal,\n              className: \"modal-close\",\n              children: \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 412,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 405,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 366,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 364,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 363,\n      columnNumber: 9\n    }, this), isEditModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: [\"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u043D\\u0438\\u0435 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430 #\", selectedOrder.id]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 423,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-section\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"form-section-header\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\\u044B\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 427,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                type: \"button\",\n                onClick: handleAddProduct,\n                className: \"btn-add-product\",\n                children: \"+ \\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u0442\\u043E\\u0432\\u0430\\u0440\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 428,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 426,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n              className: \"products-table\",\n              children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n                children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0422\\u043E\\u0432\\u0430\\u0440\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 439,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 440,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0426\\u0435\\u043D\\u0430\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 441,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0415\\u0434. \\u0438\\u0437\\u043C.\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 442,\n                    columnNumber: 23\n                  }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                    children: \"\\u0414\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u044F\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 443,\n                    columnNumber: 23\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 438,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 437,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n                children: formData.products.map((product, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"select\", {\n                      value: product.productId,\n                      onChange: e => handleProductChange(index, 'productId', e.target.value),\n                      children: allProducts.map(p => /*#__PURE__*/_jsxDEV(\"option\", {\n                        value: p.id,\n                        children: p.name\n                      }, p.id, false, {\n                        fileName: _jsxFileName,\n                        lineNumber: 455,\n                        columnNumber: 31\n                      }, this))\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 450,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 449,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: product.quantity,\n                      onChange: e => handleProductChange(index, 'quantity', e.target.value),\n                      min: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 460,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 459,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"input\", {\n                      type: \"number\",\n                      value: product.price,\n                      onChange: e => handleProductChange(index, 'price', e.target.value),\n                      min: \"1\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 468,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 467,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: product.unit\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 475,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                    children: /*#__PURE__*/_jsxDEV(\"button\", {\n                      type: \"button\",\n                      onClick: () => handleRemoveProduct(index),\n                      className: \"btn-remove-product\",\n                      children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 479,\n                      columnNumber: 27\n                    }, this)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 478,\n                    columnNumber: 25\n                  }, this)]\n                }, index, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 448,\n                  columnNumber: 23\n                }, this))\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 446,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 436,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 425,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn-primary\",\n              children: \"\\u0421\\u043E\\u0445\\u0440\\u0430\\u043D\\u0438\\u0442\\u044C \\u0438\\u0437\\u043C\\u0435\\u043D\\u0435\\u043D\\u0438\\u044F\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 493,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"button\",\n              onClick: handleCloseModal,\n              className: \"btn-secondary\",\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 494,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 492,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 424,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this), isDeleteModalOpen && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal-overlay\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"modal confirmation-modal\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041F\\u043E\\u0434\\u0442\\u0432\\u0435\\u0440\\u0436\\u0434\\u0435\\u043D\\u0438\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0435\\u043D\\u0438\\u044F\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 505,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"modal-content\",\n          children: [/*#__PURE__*/_jsxDEV(\"p\", {\n            children: [\"\\u0412\\u044B \\u0443\\u0432\\u0435\\u0440\\u0435\\u043D\\u044B, \\u0447\\u0442\\u043E \\u0445\\u043E\\u0442\\u0438\\u0442\\u0435 \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437 #\", selectedOrder === null || selectedOrder === void 0 ? void 0 : selectedOrder.id, \"?\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 507,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"\\u042D\\u0442\\u043E \\u0434\\u0435\\u0439\\u0441\\u0442\\u0432\\u0438\\u0435 \\u043D\\u0435\\u043B\\u044C\\u0437\\u044F \\u043E\\u0442\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 508,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"modal-actions\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleDeleteOrder,\n              className: \"btn-delete\",\n              children: \"\\u0414\\u0430, \\u0443\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 511,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleCloseModal,\n              className: \"btn-secondary11\",\n              children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 517,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 510,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 506,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 504,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 503,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 529,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 261,\n    columnNumber: 5\n  }, this);\n};\n_s(OrdersPage, \"2jV/hvu0Py+bVsLgNkMnTTfDlNU=\");\n_c = OrdersPage;\nexport default OrdersPage;\nvar _c;\n$RefreshReg$(_c, \"OrdersPage\");","map":{"version":3,"names":["useState","useEffect","Link","Header","Footer","jsxDEV","_jsxDEV","OrdersPage","_s","orders","setOrders","filteredOrders","setFilteredOrders","loading","setLoading","error","setError","selectedOrder","setSelectedOrder","isViewModalOpen","setIsViewModalOpen","isEditModalOpen","setIsEditModalOpen","isDeleteModalOpen","setIsDeleteModalOpen","orderDetails","setOrderDetails","products","delivery","warehouse","formData","setFormData","deliveryService","warehouseId","searchTerm","setSearchTerm","showTodayOrders","setShowTodayOrders","allProducts","setAllProducts","fetchData","ordersRes","productsRes","Promise","all","fetch","ok","Error","ordersData","productsData","json","err","message","result","term","toLowerCase","filter","order","id","toString","includes","customer","date","status","today","Date","toISOString","split","fetchOrderDetails","orderId","orderRes","deliveryRes","map","p","productId","name","quantity","price","unit","handleAddProduct","length","prev","handleRemoveProduct","index","_","i","handleDeleteOrder","response","method","ordersResponse","handleViewClick","handleEditClick","handleDeleteClick","handleCloseModal","handleInputChange","e","value","target","handleProductChange","field","updatedProducts","selectedProduct","find","parseInt","handleSubmit","preventDefault","headers","body","JSON","stringify","Id_product","handleSearch","toggleTodayOrders","className","children","fileName","_jsxFileName","lineNumber","columnNumber","to","onClick","type","placeholder","onChange","toLocaleDateString","amount","toLocaleString","replace","colSpan","product","dateFrom","dateTo","onSubmit","min","_c","$RefreshReg$"],"sources":["D:/voenmeh/6sem/bd/5/manager/src/pages/Orders/OrdersPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react';\r\nimport { Link } from 'react-router-dom';\r\nimport Header from '../../components/Header/Header';\r\nimport Footer from '../../components/Footer/Footer';\r\nimport './OrdersPage.css';\r\n\r\nconst OrdersPage = () => {\r\n  const [orders, setOrders] = useState([]);\r\n  const [filteredOrders, setFilteredOrders] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState(null);\r\n  const [selectedOrder, setSelectedOrder] = useState(null);\r\n  const [isViewModalOpen, setIsViewModalOpen] = useState(false);\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [isDeleteModalOpen, setIsDeleteModalOpen] = useState(false);\r\n  const [orderDetails, setOrderDetails] = useState({\r\n    products: [],\r\n    delivery: {},\r\n    warehouse: {}\r\n  });\r\n  const [formData, setFormData] = useState({\r\n    products: [],\r\n    deliveryService: '',\r\n    warehouseId: ''\r\n  });\r\n  const [searchTerm, setSearchTerm] = useState('');\r\n  const [showTodayOrders, setShowTodayOrders] = useState(false);\r\n  const [allProducts, setAllProducts] = useState([]);\r\n\r\n  // Загрузка данных\r\n  useEffect(() => {\r\n    const fetchData = async () => {\r\n      try {\r\n        const [ordersRes, productsRes] = await Promise.all([\r\n          fetch('http://localhost:5000/api/orders'),\r\n          fetch('http://localhost:5000/api/products')\r\n        ]);\r\n\r\n        if (!ordersRes.ok || !productsRes.ok) {\r\n          throw new Error('Network response was not ok');\r\n        }\r\n\r\n        const [ordersData, productsData] = await Promise.all([\r\n          ordersRes.json(),\r\n          productsRes.json()\r\n        ]);\r\n\r\n        setOrders(ordersData);\r\n        setFilteredOrders(ordersData);\r\n        setAllProducts(productsData);\r\n      } catch (err) {\r\n        setError(err.message);\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n    fetchData();\r\n  }, []);\r\n\r\n  // Фильтрация заказов\r\n  useEffect(() => {\r\n    let result = [...orders];\r\n    \r\n    if (searchTerm) {\r\n      const term = searchTerm.toLowerCase();\r\n      result = result.filter(order => \r\n        order.id.toString().includes(term) ||\r\n        order.customer.toLowerCase().includes(term) ||\r\n        order.date.includes(term) ||\r\n        order.status.toLowerCase().includes(term)\r\n      );\r\n    }\r\n    \r\n    if (showTodayOrders) {\r\n      const today = new Date().toISOString().split('T')[0];\r\n      result = result.filter(order => order.date === today);\r\n    }\r\n    \r\n    setFilteredOrders(result);\r\n  }, [searchTerm, showTodayOrders, orders]);\r\n\r\n  // Загрузка деталей заказа\r\n  const fetchOrderDetails = async (orderId) => {\r\n    try {\r\n      const [orderRes, productsRes, deliveryRes] = await Promise.all([\r\n        fetch(`http://localhost:5000/api/orders/${orderId}`),\r\n        fetch(`http://localhost:5000/api/orders/${orderId}/products`),\r\n        fetch(`http://localhost:5000/api/orders/${orderId}/delivery`)\r\n      ]);\r\n\r\n      if (!orderRes.ok || !productsRes.ok || !deliveryRes.ok) {\r\n        throw new Error('Failed to fetch order details');\r\n      }\r\n\r\n      const [order, products, delivery] = await Promise.all([\r\n        orderRes.json(),\r\n        productsRes.json(),\r\n        deliveryRes.json()\r\n      ]);\r\n\r\n      setOrderDetails({\r\n        ...order,\r\n        products,\r\n        delivery,\r\n      });\r\n\r\n      setFormData({\r\n        products: products.map(p => ({\r\n          productId: p.productId,\r\n          name: p.name,\r\n          quantity: p.quantity,\r\n          price: p.price,\r\n          unit: p.unit\r\n        })),\r\n      });\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Добавление товара\r\n  const handleAddProduct = () => {\r\n    if (allProducts.length > 0) {\r\n      setFormData(prev => ({\r\n        ...prev,\r\n        products: [\r\n          ...prev.products,\r\n          {\r\n            productId: allProducts[0].id,\r\n            name: allProducts[0].name,\r\n            quantity: 1,\r\n            price: allProducts[0].price,\r\n            unit: allProducts[0].unit\r\n          }\r\n        ]\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Удаление товара\r\n  const handleRemoveProduct = (index) => {\r\n    setFormData(prev => ({\r\n      ...prev,\r\n      products: prev.products.filter((_, i) => i !== index)\r\n    }));\r\n  };\r\n\r\n  // Удаление заказа\r\n  const handleDeleteOrder = async () => {\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/orders/${selectedOrder.id}`, {\r\n        method: 'DELETE'\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to delete order');\r\n\r\n      // Обновляем список заказов\r\n      const ordersResponse = await fetch('http://localhost:5000/api/orders');\r\n      const ordersData = await ordersResponse.json();\r\n      setOrders(ordersData);\r\n      setFilteredOrders(ordersData);\r\n      \r\n      setIsDeleteModalOpen(false);\r\n      setIsViewModalOpen(false);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Обработчики модальных окон\r\n  const handleViewClick = async (order) => {\r\n    setSelectedOrder(order);\r\n    await fetchOrderDetails(order.id);\r\n    setIsViewModalOpen(true);\r\n  };\r\n\r\n  const handleEditClick = async (order) => {\r\n    setSelectedOrder(order);\r\n    await fetchOrderDetails(order.id);\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  const handleDeleteClick = (order) => {\r\n    setSelectedOrder(order);\r\n    setIsDeleteModalOpen(true);\r\n  };\r\n\r\n  const handleCloseModal = () => {\r\n    setIsViewModalOpen(false);\r\n    setIsEditModalOpen(false);\r\n    setIsDeleteModalOpen(false);\r\n  };\r\n\r\n  // Обработчики изменений формы\r\n  const handleInputChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleProductChange = (index, field, value) => {\r\n    const updatedProducts = [...formData.products];\r\n    \r\n    if (field === 'productId') {\r\n      const selectedProduct = allProducts.find(p => p.id == value);\r\n      if (selectedProduct) {\r\n        updatedProducts[index].productId = value;\r\n        updatedProducts[index].name = selectedProduct.name;\r\n        updatedProducts[index].price = selectedProduct.price;\r\n        updatedProducts[index].unit = selectedProduct.unit;\r\n      }\r\n    } else {\r\n      updatedProducts[index][field] = field === 'quantity' || field === 'price' \r\n        ? parseInt(value) || 0 \r\n        : value;\r\n    }\r\n    \r\n    setFormData(prev => ({ ...prev, products: updatedProducts }));\r\n  };\r\n\r\n  // Отправка изменений\r\n  const handleSubmit = async (e) => {\r\n    e.preventDefault();\r\n    try {\r\n      const response = await fetch(`http://localhost:5000/api/orders/${selectedOrder.id}`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({\r\n          products: formData.products.map(p => ({\r\n            Id_product: p.productId,\r\n            quantity: p.quantity,\r\n            price: p.price\r\n          })),\r\n          deliveryService: formData.deliveryService\r\n        })\r\n      });\r\n\r\n      if (!response.ok) throw new Error('Failed to update order');\r\n\r\n      // Обновляем данные\r\n      const ordersResponse = await fetch('http://localhost:5000/api/orders');\r\n      const ordersData = await ordersResponse.json();\r\n      setOrders(ordersData);\r\n      await fetchOrderDetails(selectedOrder.id);\r\n      \r\n      setIsEditModalOpen(false);\r\n    } catch (err) {\r\n      setError(err.message);\r\n    }\r\n  };\r\n\r\n  // Обработчики UI\r\n  const handleSearch = (e) => setSearchTerm(e.target.value);\r\n  const toggleTodayOrders = () => setShowTodayOrders(!showTodayOrders);\r\n\r\n  if (loading) return <div className=\"loading\">Загрузка данных...</div>;\r\n  if (error) return <div className=\"error\">Ошибка: {error}</div>;\r\n\r\n  return (\r\n    <div className=\"home-page\">\r\n      <Header />\r\n\r\n      <section className=\"hero\">\r\n        <h1>Управление заказами</h1>\r\n        <p>Просмотр, создание и редактирование заказов потребителей</p>\r\n      </section>\r\n\r\n      <section className=\"dashboard\">\r\n        <div className=\"dashboard-grid\">\r\n          <Link to=\"/new\" className=\"dashboard-card\">\r\n            <h3>➕ Создать новый заказ</h3>\r\n            <p>Ручное создание заказа</p>\r\n          </Link>\r\n          <div \r\n            className={`dashboard-card ${showTodayOrders ? 'active' : ''}`} \r\n            onClick={toggleTodayOrders}\r\n          >\r\n            <h3>📅 Заказы на сегодня</h3>\r\n            <p>{showTodayOrders ? 'Скрыть' : 'Показать'} сегодняшние заказы</p>\r\n          </div>\r\n          <div className=\"dashboard-card\">\r\n            <h3>🔍 Поиск заказов</h3>\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Поиск по номеру, клиенту...\"\r\n              value={searchTerm}\r\n              onChange={handleSearch}\r\n              className=\"search-input\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </section>\r\n\r\n      <section className=\"description\">\r\n        <div className=\"orders-header\">\r\n          <h2>Список заказов</h2>\r\n          <div className=\"orders-count\">\r\n            Найдено: {filteredOrders.length} заказов\r\n          </div>\r\n        </div>\r\n        <div className=\"orders-table\">\r\n          <table>\r\n            <thead>\r\n              <tr>\r\n                <th>№ Заказа</th>\r\n                <th>Потребитель</th>\r\n                <th>Дата</th>\r\n                <th>Сумма</th>\r\n                <th>Статус</th>\r\n                <th>Действия</th>\r\n              </tr>\r\n            </thead>\r\n            <tbody>\r\n              {filteredOrders.length > 0 ? (\r\n                filteredOrders.map(order => (\r\n                  <tr key={order.id}>\r\n                    <td>{order.id}</td>\r\n                    <td>{order.customer}</td>\r\n                    <td>{new Date(order.date).toLocaleDateString('ru-RU')}</td>\r\n                    <td>{order.amount.toLocaleString()} ₽</td>\r\n                    <td>\r\n                      <span className={`status-badge status-${order.status.toLowerCase().replace(' ', '-')}`}>\r\n                        {order.status}\r\n                      </span>\r\n                    </td>\r\n                    <td>\r\n                      <button \r\n                        onClick={() => handleViewClick(order)} \r\n                        className=\"action-link\"\r\n                      >\r\n                        Просмотр\r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleEditClick(order)} \r\n                        className=\"action-link\"\r\n                      >\r\n                        Изменить\r\n                      </button>\r\n                      <button \r\n                        onClick={() => handleDeleteClick(order)} \r\n                        className=\"action-link delete\"\r\n                      >\r\n                        Удалить\r\n                      </button>\r\n                    </td>\r\n                  </tr>\r\n                ))\r\n              ) : (\r\n                <tr>\r\n                  <td colSpan=\"6\" className=\"no-orders\">\r\n                    Заказы не найдены\r\n                  </td>\r\n                </tr>\r\n              )}\r\n            </tbody>\r\n          </table>\r\n        </div>\r\n      </section>\r\n\r\n      {/* Модальное окно просмотра */}\r\n      {isViewModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <h2>Детали заказа #{selectedOrder.id}</h2>\r\n            <div className=\"modal-content\">\r\n              <div className=\"order-section\">\r\n                <h3>Основная информация</h3>\r\n                <p><strong>Потребитель:</strong> {selectedOrder.customer}</p>\r\n                <p><strong>Дата:</strong> {new Date(selectedOrder.date).toLocaleDateString('ru-RU')}</p>\r\n                <p><strong>Сумма:</strong> {selectedOrder.amount.toLocaleString()} ₽</p>\r\n                <p><strong>Статус:</strong> {selectedOrder.status}</p>\r\n              </div>\r\n\r\n              <div className=\"order-section\">\r\n                <h3>Товары</h3>\r\n                <table className=\"products-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Товар</th>\r\n                      <th>Количество</th>\r\n                      <th>Цена</th>\r\n                      <th>Сумма</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {orderDetails.products.map((product, index) => (\r\n                      <tr key={index}>\r\n                        <td>{product.name}</td>\r\n                        <td>{product.quantity} {product.unit}</td>\r\n                        <td>{product.price} ₽</td>\r\n                        <td>{product.price * product.quantity} ₽</td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n\r\n              <div className=\"order-section\">\r\n                <h3>Доставка</h3>\r\n                <p><strong>Дата отгрузки:</strong> {orderDetails.delivery.dateFrom ? new Date(orderDetails.delivery.dateFrom).toLocaleDateString('ru-RU') : 'Не указана'}</p>\r\n                <p><strong>Дата прибытия:</strong> {orderDetails.delivery.dateTo ? new Date(orderDetails.delivery.dateTo).toLocaleDateString('ru-RU') : 'Не указана'}</p>\r\n              </div>\r\n\r\n              <div className=\"modal-actions\">\r\n                <button \r\n                  onClick={() => handleDeleteClick(selectedOrder)} \r\n                  className=\"btn-delete\"\r\n                >\r\n                  Удалить заказ\r\n                </button>\r\n                <button onClick={handleCloseModal} className=\"modal-close\">Закрыть</button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Модальное окно редактирования */}\r\n      {isEditModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal\">\r\n            <h2>Редактирование заказа #{selectedOrder.id}</h2>\r\n            <form onSubmit={handleSubmit} className=\"modal-content\">\r\n              <div className=\"form-section\">\r\n                <div className=\"form-section-header\">\r\n                  <h3>Товары</h3>\r\n                  <button \r\n                    type=\"button\" \r\n                    onClick={handleAddProduct}\r\n                    className=\"btn-add-product\"\r\n                  >\r\n                    + Добавить товар\r\n                  </button>\r\n                </div>\r\n                <table className=\"products-table\">\r\n                  <thead>\r\n                    <tr>\r\n                      <th>Товар</th>\r\n                      <th>Количество</th>\r\n                      <th>Цена</th>\r\n                      <th>Ед. изм.</th>\r\n                      <th>Действия</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {formData.products.map((product, index) => (\r\n                      <tr key={index}>\r\n                        <td>\r\n                          <select\r\n                            value={product.productId}\r\n                            onChange={(e) => handleProductChange(index, 'productId', e.target.value)}\r\n                          >\r\n                            {allProducts.map(p => (\r\n                              <option key={p.id} value={p.id}>{p.name}</option>\r\n                            ))}\r\n                          </select>\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={product.quantity}\r\n                            onChange={(e) => handleProductChange(index, 'quantity', e.target.value)}\r\n                            min=\"1\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          <input\r\n                            type=\"number\"\r\n                            value={product.price}\r\n                            onChange={(e) => handleProductChange(index, 'price', e.target.value)}\r\n                            min=\"1\"\r\n                          />\r\n                        </td>\r\n                        <td>\r\n                          {product.unit}\r\n                        </td>\r\n                        <td>\r\n                          <button \r\n                            type=\"button\"\r\n                            onClick={() => handleRemoveProduct(index)}\r\n                            className=\"btn-remove-product\"\r\n                          >\r\n                            Удалить\r\n                          </button>\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n              <div className=\"form-actions\">\r\n                <button type=\"submit\" className=\"btn-primary\">Сохранить изменения</button>\r\n                <button type=\"button\" onClick={handleCloseModal} className=\"btn-secondary\">Отмена</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Модальное окно подтверждения удаления */}\r\n      {isDeleteModalOpen && (\r\n        <div className=\"modal-overlay\">\r\n          <div className=\"modal confirmation-modal\">\r\n            <h2>Подтверждение удаления</h2>\r\n            <div className=\"modal-content\">\r\n              <p>Вы уверены, что хотите удалить заказ #{selectedOrder?.id}?</p>\r\n              <p>Это действие нельзя отменить.</p>\r\n              \r\n              <div className=\"modal-actions\">\r\n                <button \r\n                  onClick={handleDeleteOrder}\r\n                  className=\"btn-delete\"\r\n                >\r\n                  Да, удалить\r\n                </button>\r\n                <button \r\n                  onClick={handleCloseModal}\r\n                  className=\"btn-secondary11\"\r\n                >\r\n                  Отмена\r\n                </button>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      <Footer />\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default OrdersPage;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}